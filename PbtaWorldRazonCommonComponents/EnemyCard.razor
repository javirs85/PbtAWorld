<div class="MonsterCard">
	<div>
		<div class=" d-flex flex-row flex-wrap gap-1">
			<span class="MonsterCardTitle">@monster.Name</span>
			<TagVisualizer ID="monster.Size" Color="TagVisualizer.TagColors.Red" Width="80" />
			<TagVisualizer ID="monster.Organization" Color=TagVisualizer.TagColors.Green Width="80" />
			@foreach (var t in monster.Tags)
			{
				<TagVisualizer ID="t" />
			}
		</div>
		<div class="d-flex flex-column">
			<div>
				@monster.Attack?.AttackDicesString
			</div>
			<div class="d-flex flex-column">
				<div class="Definition @(FullText?"Full":"")">
					@monster.Definition
					
				</div>
				<div style="position:relative;">
					<div class="DefinitionButton" @onclick=@(()=>{FullText = !FullText;})><i class="bi bi-arrow-down-up"></i></div>
					<div class="d-flex">
						<strong style="width: 70px;">Instinto:</strong>
						<div>@monster.Instinct</div>
					</div>

					<div class="d-flex">
						<strong style="width: 70px;">Especial</strong>
						<div class="d-flex flex-column">
							@foreach (var s in monster.Special)
							{
								<div class="d-flex align-items-center">
									<div style="border-left:1px solid black; padding-left:5px; width:2px; height:10px;"></div>
									@s
								</div>
							}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="imgHolder" style="background-image:url(_content/DungeonWorld/imgs/DW/Monsters/Images/@(monster.ID).png); ">
		<div class="HPSpace">@monster.MaxHP</div>
		<div class="ArmorSpace">
			<div class="ArmorIcon">
				<i class="bi bi-shield-fill"></i>
            </div>
			<div class="ArmorValue">
				@monster.Armor
			</div>
		</div>
		<div class="AttackSpace d-flex align-items-center">
			@monster.Attack?.AttackDicesString
			@if (monster.Attack is not null && monster.Attack?.Piercing != 0)
			{
				<div style="position:relative; width:20px;">
					<i class="bi bi-shield" style="position: absolute; left:0"></i>
					<div style="position: absolute; left:0">-@monster.Attack.Piercing</div>
				</div>
			}
		</div>
	</div>
</div>

@code {
	[Parameter] public  Monster monster { get; set; } = new();

	bool FullText = false;
}
