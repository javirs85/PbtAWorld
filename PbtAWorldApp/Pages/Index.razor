@page "/"
@inject IConfiguration Config

<PageTitle>Index</PageTitle>

<h1>Testing string</h1>
<p class="h4">
	Default connection string: @defaultConnection
	google ID:@googleID
</p>

<p>
	<a href="auth/google-login" class="btn btn-primary">Login with google</a>
</p>
<p>
	<AuthorizeView>
		<Authorized>
			@foreach(var item in context.User.Claims)
			{
				<h2>@item.Type @item.Value</h2>
			}
			<img src="@context.User.Claims.Where(s => s.Type == "picture")?.FirstOrDefault()?.Value"/>
		</Authorized>
	</AuthorizeView>
</p>

@code{
	private string defaultConnection = "";
	private string googleID = "";

	protected override void OnInitialized()
	{
		defaultConnection = Config.GetConnectionString("Default") ?? "Unknown";
		googleID = Config["Google:Id"] ?? "Not found";
	}
}